<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CCTA Filter Hub - Full Visual</title>
<style>
body { margin:0; font-family:sans-serif; background:#f5f5f5; }
header { background:#ff5e5e; color:#fff; padding:20px; text-align:center; font-size:2em; font-weight:bold; }
section.hero { text-align:center; padding:50px 20px; background:#fff; }
button.primary { background:#ff5e5e; color:#fff; padding:10px 20px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; margin:10px; }
.upload-area { border:2px dashed #ccc; padding:40px; border-radius:10px; margin:20px auto; width:80%; text-align:center; background:#fff; }
.category-header { background:#eee; padding:10px; cursor:pointer; border-radius:8px; margin-bottom:5px; font-weight:bold; font-size:1.1em; display:flex; align-items:center; }
#filterContainer { padding:10px; }
#filterContainer .filterGrid { display:grid; grid-template-columns:repeat(auto-fill,minmax(100px,1fr)); gap:10px; margin-bottom:20px; }
.card { background:#fff; border-radius:10px; padding:10px; text-align:center; cursor:pointer; box-shadow:0 2px 5px rgba(0,0,0,0.1); transition:0.2s; font-size:0.9em; display:flex; flex-direction:column; align-items:center; }
.card:hover { transform:translateY(-2px); box-shadow:0 4px 8px rgba(0,0,0,0.15); }
.card-icon { font-size:2em; margin-bottom:5px; }
.modal { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); justify-content:center; align-items:flex-start; overflow:auto; z-index:9999; padding:40px 0; }
.modal-content { background:#fff; padding:20px; border-radius:10px; max-width:90%; width:90%; max-height:90%; overflow:auto; }
.close { float:right; cursor:pointer; font-weight:bold; font-size:1.5em; }
input#searchInput { width:80%; padding:8px; margin:10px auto; display:block; border-radius:8px; border:1px solid #ccc; font-size:0.9em; }
</style>
</head>
<body>

<header>CCTA Filter Hub</header>

<section class="hero">
  <h1>Selamat Datang di CCTA Filter Hub</h1>
  <p>Tap kategori untuk melihat semua filter. Gunakan search untuk menemukan filter dengan cepat.</p>
  <button class="primary" id="cobaSekarangBtn">Coba Sekarang ></button>
</section>

<section class="upload-area">
  <p>Upload foto Anda di sini</p>
  <input type="file" id="uploadInput" style="display:none;">
  <button onclick="document.getElementById('uploadInput').click()">Pilih File</button>
</section>

<section id="dashboard">
  <button id="downloadBtn">Download Hasil</button>
</section>

<input type="text" id="searchInput" placeholder="Cari filter di semua kategori...">
<div id="filterContainer"></div>

<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <div id="modalBody"></div>
  </div>
</div>

<script>
// --- JSON 644 filter dengan ikon ---
const filters = {
  "ðŸŽ¨ Filter Media": [],
  "ðŸ¤– AI / Generatif": [],
  "ðŸ“· Lens / Kamera": [],
  "ðŸ”’ Konten / Keamanan": [],
  "ðŸ§­ Navigasi / Marketplace": [],
  "ðŸ› ï¸ Editing Lanjutan": []
};

// Generate filter
const totalPerCategory = 107; // 107 x 6 = 642
Object.keys(filters).forEach(cat=>{
    for(let i=1;i<=totalPerCategory;i++){
        filters[cat].push({
            name: `Filter ${i}`,
            icon: cat[0], // simbol pertama kategori sebagai ikon
            subfilters: [`Subfilter ${i}.1`, `Subfilter ${i}.2`]
        });
    }
});
// Tambah 2 filter ekstra di Filter Media untuk total 644
filters["ðŸŽ¨ Filter Media"].push(
  {name:"Filter 108", icon:"ðŸŽ¨", subfilters:["Subfilter 108.1","Subfilter 108.2"]},
  {name:"Filter 109", icon:"ðŸŽ¨", subfilters:["Subfilter 109.1","Subfilter 109.2"]}
);

// --- Load Filters ---
const filterContainer = document.getElementById("filterContainer");
const modal = document.getElementById("modal");
const closeModal = document.getElementById("closeModal");
const modalBody = document.getElementById("modalBody");
const searchInput = document.getElementById("searchInput");

function initFilters(filters){
    filterContainer.innerHTML="";
    for(let cat in filters){
        const header=document.createElement("div");
        header.className="category-header";
        header.textContent=cat;
        const grid=document.createElement("div");
        grid.className="filterGrid";

        filters[cat].forEach(f=>{
            const card=document.createElement("div");
            card.className="card";
            const iconSpan=document.createElement("span"); 
            iconSpan.className="card-icon"; 
            iconSpan.textContent=f.icon;
            card.appendChild(iconSpan);
            const nameSpan=document.createElement("span"); 
            nameSpan.textContent=f.name;
            card.appendChild(nameSpan);
            card.onclick=()=>showFilterDetails(f);
            grid.appendChild(card);
        });

        grid.style.display="none";
        header.onclick=()=>{ grid.style.display = grid.style.display==="none" ? "grid" : "none"; }
        filterContainer.appendChild(header);
        filterContainer.appendChild(grid);
    }
}

function showFilterDetails(filter){
    modalBody.innerHTML="<h3>"+filter.name+"</h3>";
    filter.subfilters.forEach(s=>{
        const p=document.createElement("p"); p.textContent=s;
        modalBody.appendChild(p);
    });
    modal.style.display="flex";
}

closeModal.onclick=()=>modal.style.display="none";

// Search realtime
searchInput.addEventListener("input",()=>{
    const q=searchInput.value.toLowerCase();
    const grids=filterContainer.querySelectorAll(".filterGrid");
    grids.forEach(grid=>{
        const cards=grid.querySelectorAll(".card");
        let any=false;
        cards.forEach(c=>{
            if(c.textContent.toLowerCase().includes(q)){ c.style.display="flex"; any=true; }
            else c.style.display="none";
        });
        grid.style.display = any ? "grid" : "none";
    });
});

// Upload & Download
document.getElementById("uploadInput").addEventListener("change",function(){ alert("File uploaded: "+this.files[0].name); });
document.getElementById("downloadBtn").addEventListener("click",()=>{ alert("Download akan dimulai!"); });
document.getElementById("cobaSekarangBtn").onclick=()=>{ window.scrollTo({ top: filterContainer.offsetTop, behavior:'smooth' }); }

// Initialize
initFilters(filters);
</script>

</body>
</html>
